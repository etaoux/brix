KISSY.add("brix/gallery/form/index",function(e,t){function i(){i.superclass.constructor.apply(this,arguments)}function a(e,t){var i=e.one(".control"),n=e.one("input"),r=n.prop("checked"),o=n.prop("disabled");t&&e.hasClass("radio")&&e.siblings(".radio").each(function(e){a(e)});var s="control"+(r?" checked":"")+(o?" disabled":"")+(r&&o?" checked-disabled":"");i?i.attr("class",s):e.prepend('<span class="'+s+'" tabindex="0"></span>')}var n={ENTER:13,SPACE:32};return i.EVENTS={".checkbox, .radio":{keyup:function(t){(t.keyCode===n.ENTER||t.keyCode===n.SPACE)&&(e.one(t.target).fire("click"),t.preventDefault())}}},e.extend(i,t,{initialize:function(){var t=this.get("el");t.addClass("bx-controls"),t.all(".checkbox, .radio").each(function(e){a(e)}),t.all("input").on("change",function(t){a(e.one(t.currentTarget.parentNode),!0)}),9>e.UA.ie&&t.all(".checkbox, .radio").on("click",function(t){"INPUT"!==t.target.nodeName&&e.one(t.currentTarget).one("input")[0].click()})}}),i},{requires:["brix/core/brick"]});