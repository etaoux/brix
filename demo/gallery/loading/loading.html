<!DOCTYPE HTML>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <title>Brix Loading Demo</title>
        <link type="text/css" rel="stylesheet" href="../../../dist/brix-min.css" charset="utf-8">
        <link rel="stylesheet" href="../../../src/gallery/dropdown/dropdown.css">
        <link rel="stylesheet" href="../../../src/gallery/pagination/pagination.css">
        <link rel="stylesheet" href="../../../src/gallery/loading/loading.css">
        <script src="http://a.tbcdn.cn/s/kissy/1.2.0/kissy-min.js"></script>
        <script src="../../config.js"></script>
        <style type="text/css">
        #brick2{padding:10px}
        #brick2 img{vertical-align: top}
        #brick2 span{padding:0 4px;line-height: 16px;}
        .section {width:990px;margin:0 auto;margin-top:15px;}
        .section p em{padding-left:15px;}
        .loading-desc{color:#ddd;line-height:18px;vertical-align: top}
        .hidden{display: none}
        #J_Loading1 .loading{display:none;}
        #J_Loading1.btn-loading .loading{display:block;}
        #J_Loading1.btn-loading .btn-desc{display:none;}
        </style>
    </head>
    <body style="margin:0px;padding-top:40px">
        <div class="section">
            <p>
                <strong>1、loading默认有四种动画形式：</strong>
            </p>
        </div>
        <div class="section">
            <p>a、<em>淘宝版本1</em></p>
            <span class="loading loading-color"></span>
            <p>b、<em>淘宝版本2</em></p>
            <span class="loading loading-color-mini"></span>
            <p>c、<em>轻型版本1</em></p>
            <span class="loading loading-grey-border"></span>
            <p>d、<em>轻型版本2</em></p>
            <span class="loading loading-grey"></span>
        </div>
        <div class="section">
            <p>
                <strong>2、loading配合文字使用：</strong>
            </p>
            <span class="loading loading-color-mini"></span>
            <span>加载中...</span>
        </div>
        <div class="section">
            <p>
                <strong>3、按钮中的loading：</strong>
            </p>
            <div style="height:18px;padding:10px;text-align:left">
                <a href="#" class="btn btn-blue">
                    <span class="loading loading-grey"></span>
                </a>
                <a href="#" style="padding-left:10px;font-size:12px;color:#606060">忘记密码？</a>
            </div>
        </div>
        <div class="section">
            <p>
                <strong>4、按钮激活后的loading：</strong>
            </p>
            <div style="height:18px;padding:10px;text-align:left">
                <a id="J_Loading1" href="#" class="btn btn-blue">
                    <span class="loading loading-grey"></span><span class="btn-desc">点击我</span>
                </a>
            </div>
        </div>
        <div class="section" id="J_container">
            <p>
                <strong>5、翻页触发的loading</strong>
            </p>
            <div style="height:28px;text-align:center">
                <span id="J_P1_Loading" class="loading loading-grey hidden"></span>
            </div>
            <div id="J_P1" bx-name="pagination" class="pagination clearfix" bx-config="{pageSizeName:false,statistics:true,sizeChange:true,jump:true,goTo:false}"></div>
        </div>
        <div class="section">
            <p>
                <strong>6、普通的状态栏loading：</strong>
            </p>
            <div style="height:18px;padding:10px;background:#555;text-align:center">
                <span class="loading loading-grey"></span>
                <span class="loading-desc">一淘带您去京东商城，请稍等...</span>  
            </div>
        </div>
        <script>
            KISSY.ready(function(S) {
                KISSY.use("brix/core/pagelet", function(S, Pagelet) {
                    var config = {
                        tmpl:'#J_container'
                    }
                    var p = new Pagelet(config);
                    p.addBehavior();
                    p.ready(function() {
                        p.getBrick('J_P1').on('goToPage',function(e){
                            S.one('#J_P1_Loading').removeClass('hidden');
                            S.later(function() {
                                S.one('#J_P1_Loading').addClass('hidden');
                            }, 1000);
                        });
                    });
                });

                S.one('#J_Loading1').on('click', function(e) {
                    e.preventDefault();
                    var target = S.one(e.currentTarget);

                    if (!target.hasClass('btn-loading')) {
                        target.addClass('btn-loading');
                        S.later(function() {
                            target.removeClass('btn-loading');
                        }, 3000);
                    }
                });

            });
        </script>
        <!--brix end-->
    </body>
</html>
